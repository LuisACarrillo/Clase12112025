name: Ejecutar acciÃ³n dentro de un contenedor

on:
  push:
    branches: [ "main" ]
  workflow_dispatch:

jobs:
  run-in-container:
    runs-on: ubuntu-latest

    container:
      image: dart:stable
      options: --cpus 1 --memory 512m

    steps:
      - name: Checkout del repositorio
        uses: actions/checkout@v4

      - name: Ver versiÃ³n de Dart dentro del contenedor
        run: dart --version

      - name: Crear y ejecutar script Dart dentro del contenedor
        run: |
          echo "void main() { print('Hola desde un contenedor con Dart'); }" > main.dart
          dart run main.dart
